{% include "header.html" %}

{% from 'bootstrap5/form.html' import render_form %}



<div style="max-width: fit-content; margin-left: auto; margin-right: auto">
    <h1 style="text-align: center" class="mb-5">Grade Management System</h1>
    {% if current_user.is_authenticated %}
        {% if current_user.designation == 'Teacher' %}
            <h3 class="mt-3 mb-2">Search for a student:</h3>
            {% with messages = get_flashed_messages() %}
                {% if messages %}
                    {% for message in messages %}
                        <p class="flash">{{ message }}</p>
                    {% endfor %}
                {% endif %}
            {% endwith %}
            {{ render_form(form) }}
            <h3 class="mt-5 mb-2">Add a grade:</h3>
            <a href="{{ url_for('add_grade') }}"><button class="btn btn-primary mt-2">Add Grade</button></a>
            <h3 class="mt-5 mb-2">Check report cards:</h3>
            <form action="{{ url_for('show_report') }}" method="post">
                <label for="student-usn"><b>USN:</b></label>
                <input type="text" id="student-usn" name="usn">
                <button type="submit" class="btn btn-primary">Get report card</button>
            </form>
        {% else %}
            <h3 class="mt-3 mb-2">Check your grades:</h3>
            <a href="{{ url_for('show_grades', usn=current_user.usn) }}"><button class="btn btn-primary">Check grades</button></a>
            <h3 class="my-2">Check your report card:</h3>
            <a href="{{ url_for('show_report', usn=current_user.usn) }}"><button class="btn btn-primary">Check report card</button></a>
        {% endif %}
    {% endif %}
</div>

{% include "footer.html" %}